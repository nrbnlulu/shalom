scalar DateTime

directive @genericResult(
    dataField: String!
    errorField: String!
    errorFragment: String!
) on OBJECT

interface ErrorInterface {
    message: String!
}

type UnauthorizedError implements ErrorInterface {
    message: String!
    code: String!
}

type ValidationError implements ErrorInterface {
    message: String!
    field: String!
}

type User {
    id: ID!
    name: String!
    email: String!
}

type UpdateUserMutationResult
    @genericResult(
        dataField: "data"
        errorField: "error"
        errorFragment: "GlobalErrorFrag"
    ) {
    data: User
    error: ErrorInterface
}

type DeleteUserMutationResult
    @genericResult(
        dataField: "success"
        errorField: "error"
        errorFragment: "GlobalErrorFrag"
    ) {
    success: Boolean
    error: ErrorInterface
}

type ScheduleTaskMutationResult
    @genericResult(
        dataField: "scheduledAt"
        errorField: "error"
        errorFragment: "GlobalErrorFrag"
    ) {
    scheduledAt: DateTime
    error: ErrorInterface
}

type Mutation {
    updateUser(id: ID!, name: String!): UpdateUserMutationResult!
    deleteUser(id: ID!): DeleteUserMutationResult!
    scheduleTask(
        taskId: ID!
        scheduledAt: DateTime!
    ): ScheduleTaskMutationResult!
}

type Query {
    user(id: ID!): User
}
